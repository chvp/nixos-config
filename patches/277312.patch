diff --git a/pkgs/servers/matrix-synapse/matrix-hookshot/package.json b/pkgs/servers/matrix-synapse/matrix-hookshot/package.json
index 0ff87211985ff3..984791ddf9a39a 100644
--- a/pkgs/servers/matrix-synapse/matrix-hookshot/package.json
+++ b/pkgs/servers/matrix-synapse/matrix-hookshot/package.json
@@ -1,6 +1,6 @@
 {
   "name": "matrix-hookshot",
-  "version": "4.7.0",
+  "version": "5.1.1",
   "description": "A bridge between Matrix and multiple project management services, such as GitHub, GitLab and JIRA.",
   "main": "lib/app.js",
   "repository": "https://github.com/matrix-org/matrix-hookshot",
@@ -10,7 +10,7 @@
     "name": "matrix-hookshot-rs"
   },
   "engines": {
-    "node": ">=18"
+    "node": ">=20"
   },
   "scripts": {
     "build:web": "vite build",
@@ -32,6 +32,7 @@
     "start:matrixsender": "node --require source-map-support/register lib/App/MatrixSenderApp.js",
     "start:resetcrypto": "node --require source-map-support/register lib/App/ResetCryptoStore.js",
     "test": "mocha -r ts-node/register tests/init.ts tests/*.ts  tests/**/*.ts",
+    "test:e2e": "yarn node --experimental-vm-modules $(yarn bin jest)",
     "test:cover": "nyc --reporter=lcov --reporter=text yarn test",
     "lint": "yarn run lint:js && yarn run lint:rs",
     "lint:js": "eslint -c .eslintrc.js 'src/**/*.ts' 'tests/**/*.ts' 'web/**/*.ts' 'web/**/*.tsx'",
@@ -42,55 +43,58 @@
   },
   "dependencies": {
     "@alloc/quick-lru": "^5.2.0",
-    "@octokit/auth-app": "^3.3.0",
-    "@octokit/auth-token": "^2.4.5",
-    "@octokit/rest": "^18.10.0",
-    "@octokit/webhooks": "^9.1.2",
+    "@octokit/auth-app": "^6.0.2",
+    "@octokit/auth-token": "^4.0.0",
+    "@octokit/rest": "^20.0.2",
+    "@octokit/webhooks": "^12.0.10",
     "@sentry/node": "^7.52.1",
+    "@vector-im/compound-design-tokens": "^0.1.0",
+    "@vector-im/compound-web": "^0.9.4",
     "ajv": "^8.11.0",
     "axios": "^1.6.2",
     "cors": "^2.8.5",
-    "express": "^4.17.3",
+    "express": "^4.18.2",
     "figma-js": "^1.14.0",
     "http-status-codes": "^2.2.0",
     "ioredis": "^5.2.3",
-    "jira-client": "^8.0.0",
-    "markdown-it": "^12.3.2",
+    "jira-client": "^8.2.2",
+    "markdown-it": "^14.0.0",
     "matrix-appservice-bridge": "^9.0.1",
-    "matrix-bot-sdk": "npm:@vector-im/matrix-bot-sdk@^0.6.7-element.1",
-    "matrix-widget-api": "^1.0.0",
-    "micromatch": "^4.0.4",
-    "mime": "^3.0.0",
-    "node-emoji": "^1.11.0",
-    "nyc": "^15.1.0",
+    "matrix-bot-sdk": "npm:@vector-im/matrix-bot-sdk@^0.7.0-specific-device-2",
+    "matrix-widget-api": "^1.6.0",
+    "micromatch": "^4.0.5",
+    "mime": "^4.0.1",
+    "node-emoji": "^2.1.3",
     "p-queue": "^6.6.2",
-    "prom-client": "^14.2.0",
-    "quickjs-emscripten": "^0.23.0",
-    "reflect-metadata": "^0.1.13",
+    "preact-render-to-string": "^6.3.1",
+    "prom-client": "^15.1.0",
+    "quickjs-emscripten": "^0.24.0",
+    "reflect-metadata": "^0.2.1",
     "source-map-support": "^0.5.21",
     "string-argv": "^0.3.1",
     "tiny-typed-emitter": "^2.1.0",
-    "winston": "^3.3.3",
-    "xml2js": "^0.5.0",
-    "yaml": "^2.2.2"
+    "vite-plugin-magical-svg": "^1.0.3",
+    "winston": "^3.11.0",
+    "xml2js": "^0.6.2",
+    "yaml": "^2.3.4"
   },
   "devDependencies": {
     "@codemirror/lang-javascript": "^6.0.2",
     "@napi-rs/cli": "^2.13.2",
     "@preact/preset-vite": "^2.2.0",
-    "@tsconfig/node18": "^2.0.0",
+    "@rollup/plugin-alias": "^5.1.0",
+    "@tsconfig/node18": "^18.2.2",
     "@types/ajv": "^1.0.0",
     "@types/chai": "^4.2.22",
     "@types/cors": "^2.8.12",
     "@types/express": "^4.17.14",
+    "@types/jest": "^29.5.11",
     "@types/jira-client": "^7.1.0",
-    "@types/markdown-it": "^12.2.3",
+    "@types/markdown-it": "^13.0.7",
     "@types/micromatch": "^4.0.1",
-    "@types/mime": "^2.0.3",
-    "@types/mocha": "^9.0.0",
-    "@types/node": "18",
-    "@types/node-emoji": "^1.8.1",
-    "@types/uuid": "^8.3.3",
+    "@types/mime": "^3.0.4",
+    "@types/mocha": "^10.0.6",
+    "@types/node": "20.10.5",
     "@types/xml2js": "^0.4.11",
     "@typescript-eslint/eslint-plugin": "^6.6.0",
     "@typescript-eslint/parser": "^6.6.0",
@@ -99,14 +103,17 @@
     "eslint": "^8.49.0",
     "eslint-config-preact": "^1.3.0",
     "eslint-plugin-mocha": "^10.1.0",
+    "homerunner-client": "^1.0.0",
+    "jest": "^29.7.0",
     "mini.css": "^3.0.1",
-    "mocha": "^8.2.1",
+    "mocha": "^10.2.0",
+    "nyc": "^15.1.0",
     "preact": "^10.5.15",
-    "rimraf": "^3.0.2",
+    "rimraf": "^5.0.5",
     "sass": "^1.51.0",
+    "ts-jest": "^29.1.1",
     "ts-node": "^10.9.1",
-    "typescript": "^5.1.3",
-    "vite": "^4.1.5",
-    "vite-svg-loader": "^4.0.0"
+    "typescript": "^5.3.3",
+    "vite": "^5.0.10"
   }
 }
diff --git a/pkgs/servers/matrix-synapse/matrix-hookshot/pin.json b/pkgs/servers/matrix-synapse/matrix-hookshot/pin.json
index 64b40c341cc9d2..f24026246d9826 100644
--- a/pkgs/servers/matrix-synapse/matrix-hookshot/pin.json
+++ b/pkgs/servers/matrix-synapse/matrix-hookshot/pin.json
@@ -1,6 +1,6 @@
 {
-  "version": "4.7.0",
-  "srcHash": "sha256-27PBuLyk/1ER26pus5tbe9CxeYEZgZrYBYy5l3B/19c=",
-  "yarnHash": "05mh3q5zw1aiznvbkhp7spb1bgcv32ncdb4zpyvhhv74pyhjnsn2",
-  "cargoHash": "sha256-cAjsNVQfXfZbM1/MoiEh/Qp0uW/iXsxBVx7cRZY3tN0="
+  "version": "5.1.1",
+  "srcHash": "sha256-5iln+FURXwRTd4UPSk9shiBo1zV0zXrwEDNOAPsaCoI=",
+  "yarnHash": "0ywfg0l33iyfbg4za37hm60z28qddbxmjxdgdbks0yqhhf8mgd4b",
+  "cargoHash": "sha256-CgXcZAXey36UQGY6f1/Gb45IQ7DhYGDXuAuGtqJ/FlE="
 }
