From 5bb0c0c812d1dc792f700a832323580f6f141c7f Mon Sep 17 00:00:00 2001
From: Charlotte Van Petegem <charlotte@vanpetegem.me>
Date: Sat, 18 Mar 2023 10:29:38 +0100
Subject: [PATCH] matrix-hookshot: 2.7.0 -> 3.0.0

---
 pkgs/servers/matrix-synapse/matrix-hookshot/default.nix  | 2 +-
 pkgs/servers/matrix-synapse/matrix-hookshot/package.json | 7 +++----
 pkgs/servers/matrix-synapse/matrix-hookshot/pin.json     | 6 +++---
 3 files changed, 7 insertions(+), 8 deletions(-)

diff --git a/pkgs/servers/matrix-synapse/matrix-hookshot/default.nix b/pkgs/servers/matrix-synapse/matrix-hookshot/default.nix
index 9903dbb1184e4..ae5ac99b6645c 100644
--- a/pkgs/servers/matrix-synapse/matrix-hookshot/default.nix
+++ b/pkgs/servers/matrix-synapse/matrix-hookshot/default.nix
@@ -35,7 +35,7 @@ mkYarnPackage rec {
   cargoDeps = rustPlatform.fetchCargoTarball {
     inherit src;
     name = "${pname}-${version}";
-    hash = "sha256-WolkDSS5wPxtltKzq4Er2nAQ0GrsF3imim3/Ge4eguQ=";
+    hash = "sha256-bxDqv7KofinDuYDB1F0ZKWUQnz+ErU+OZc6i77nzM9Q=";
   };
 
   packageResolutions = {
diff --git a/pkgs/servers/matrix-synapse/matrix-hookshot/package.json b/pkgs/servers/matrix-synapse/matrix-hookshot/package.json
index 6676f3bb9c306..8b9701d09d765 100644
--- a/pkgs/servers/matrix-synapse/matrix-hookshot/package.json
+++ b/pkgs/servers/matrix-synapse/matrix-hookshot/package.json
@@ -1,6 +1,6 @@
 {
   "name": "matrix-hookshot",
-  "version": "2.7.0",
+  "version": "3.0.0",
   "description": "A bridge between Matrix and multiple project management services, such as GitHub, GitLab and JIRA.",
   "main": "lib/app.js",
   "repository": "https://github.com/matrix-org/matrix-hookshot",
@@ -67,7 +67,6 @@
     "source-map-support": "^0.5.21",
     "string-argv": "^0.3.1",
     "tiny-typed-emitter": "^2.1.0",
-    "uuid": "^8.3.2",
     "vm2": "^3.9.11",
     "winston": "^3.3.3",
     "xml2js": "^0.4.23",
@@ -105,7 +104,7 @@
     "sass": "^1.51.0",
     "ts-node": "^10.4.0",
     "typescript": "^4.5.2",
-    "vite": "^2.9.13",
-    "vite-svg-loader": "^3.4.0"
+    "vite": "^4.1.4",
+    "vite-svg-loader": "^4.0.0"
   }
 }
diff --git a/pkgs/servers/matrix-synapse/matrix-hookshot/pin.json b/pkgs/servers/matrix-synapse/matrix-hookshot/pin.json
index d726307eeb000..b4c0f27ecfa02 100644
--- a/pkgs/servers/matrix-synapse/matrix-hookshot/pin.json
+++ b/pkgs/servers/matrix-synapse/matrix-hookshot/pin.json
@@ -1,5 +1,5 @@
 {
-  "version": "2.7.0",
-  "srcHash": "rW5fqKshnF2S4w55V2GaAa2RFVM+YbwRum9OwTTpYuA=",
-  "yarnHash": "0q71901ra9m9rbbczal1imqfba4b07bpr8hkpw1d1r9ghc2xjay4"
+  "version": "3.0.0",
+  "srcHash": "2fuDV2h97VdBADygMeyk2B5etFKkQdNZeOWlhMD4hJk=",
+  "yarnHash": "0ivizv90wrbz583xjvbakv6vg782h7pjm5zbm8wb9qkpnj735avz"
 }
